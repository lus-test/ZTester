# 分布式测试模块需求说明书-v0.1

------

## 1.概述

### 编写目的

在每次组内组件发布后进行自动化测试时存在脚本执行耗时、自动化脚本错误信息收集混乱、测试环境搭建困难等问题，项目“Ztest测试工具“立足解决这些问题而提出的。

### 术语与定义

- 发布包：指Phoenix平台下已经覆盖自动化测试的包。
- 测试包：指当前自动化脚本随着软件版本更新的集成环境和脚本组件的包。
- 测试机：指专门用来进行自动化测试的机器，可以是虚拟机，也可以是电脑设备。

### 参考资料

暂无

## 2.标准和规范

- 开发过程中所有的代码编写必须遵守公司的编码规范；
- 开发过程中提交的代码必须经过开发人员自测，保证代码的可靠性；

## 3.限制、依赖条件

- 限制：该软件的搭建测试环境时的测试包和发布包全部从服务器上面获取，测试脚本的执行情况全部由测试机的性能和测试脚本的质量决定。

## 4.功能规格

基本框架：选择用C/S的模式实现分布式管理自动化脚本执行，集成反馈自动化脚本信息。

结构图：

![1580821573550](C:\Users\jz\AppData\Roaming\Typora\typora-user-images\1580821573550.png)

## 模块分析

客户端：将每台测试机作为客户端，负责对其分发任务和监视状态。

### 客户端功能描述

1.链接：通过TCP/IP协议与多个服务端进行链接，收发服务端提供的指派的任务（现默认为脚本执行）。

2.测试机状态管理：测试机在不同情况下会显示不同状态，并能及时反馈给服务器。

| 测试机状态 | 说明                                                     |
| ---------- | -------------------------------------------------------- |
| 运行       | 当前测试机正在被占用（在测试机开始执行自动化脚本时触发） |
| 未初始化   | 当前状态机没有进行测试环境配置                           |
| 空闲       | 当前测试机可正常使用（在用户配置测试环境前测试机的状态） |
| 出错       | 当测试机异常触发（例如测试机无法与服务器建立连接时）     |

3.客户端退出：执行客户端退出时，断开与服务器的链接，清除测试环境(V0.1不带)。

------

服务端：主要工作是协调和管理远程各台测试机器，并获取客户端数据。

### 服务端功能描述

1.链接：通过TCP/IP协议与多个客户端进行链接。

3.测试机信息获取：获取到当前测试机的状态信息。根据状态信息，决定是否对其下发数据

3.服务器退出：当服务器退出时，强制断开与客户端（测试机）的链接，并重置服务器信息。

## 5.非功能规格

性能：受各测试机配置环境和自动化脚本数量限制。

数据存储：选择sqlite轻型数据库进行存储。

## 6.补充说明

暂无